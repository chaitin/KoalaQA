var __async=(n,t,e)=>new Promise((i,o)=>{var a=n=>{try{s(e.next(n))}catch(t){o(t)}},r=n=>{try{s(e.throw(n))}catch(t){o(t)}},s=n=>n.done?i(n.value):Promise.resolve(n.value).then(a,r);s((e=e.apply(n,t)).next())});!function(){"use strict";!function(){var n,t,e,i,o;const a={baseUrl:(null==(n=window.CustomerServiceConfig)?void 0:n.baseUrl)||(()=>{if("undefined"!=typeof document&&document.currentScript){const t=document.currentScript.src;if(t)try{const n=new URL(t);return n.origin+n.pathname.substring(0,n.pathname.lastIndexOf("/"))}catch(n){}}return window.location.origin})(),iframePath:(null==(t=window.CustomerServiceConfig)?void 0:t.iframePath)||"/customer-service",position:(null==(e=window.CustomerServiceConfig)?void 0:e.position)||"bottom-right",buttonSize:(null==(i=window.CustomerServiceConfig)?void 0:i.buttonSize)||56,buttonColor:"#fff",buttonHoverColor:"#fff",zIndex:(null==(o=window.CustomerServiceConfig)?void 0:o.zIndex)||9999};function r(n){const t=document.createElement("style");t.textContent=(n=>`\n    .cs-widget-button {\n      position: fixed;\n      ${"bottom-left"===a.position?"left":"right"}: 24px;\n      bottom: 24px;\n      @media (max-width: 768px) {\n        left: auto !important;\n        right: 24px !important;\n        bottom: 80px !important;\n        width: 40px !important;\n        min-width: 40px !important;\n        max-width: 40px !important;\n        height: 40px !important;\n        padding: 0 !important;\n        border-radius: 20px !important;\n        justify-content: center !important;\n      }\n      width: ${a.buttonSize}px;\n      min-width: ${a.buttonSize}px;\n      max-width: ${a.buttonSize}px;\n      height: ${a.buttonSize}px;\n      min-height: ${a.buttonSize}px;\n      max-height: ${a.buttonSize}px;\n      padding: 0 calc((${a.buttonSize}px - 28px) / 2) 0 0;\n      border-radius: ${a.buttonSize/2}px;\n      background: linear-gradient(135deg, var(--cs-primary-color, ${a.buttonColor}) 0%, var(--cs-primary-hover-color, ${a.buttonHoverColor}) 100%);\n      border: 1px solid ${n};\n      cursor: pointer;\n      box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);\n      display: flex;\n      flex-direction: row;\n      align-items: center;\n      justify-content: flex-end;\n      gap: 0;\n      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n      z-index: ${a.zIndex};\n      outline: none;\n      overflow: hidden;\n      box-sizing: border-box;\n    }\n    \n    .cs-widget-button:hover {\n      max-width: 300px;\n      padding: 0 calc((${a.buttonSize}px - 28px) / 2) 0 24px;\n      gap: 12px;\n      border-radius: 30px;\n      box-shadow: 0 12px 30px rgba(0, 0, 0, 0.2), inset 0 1px 1px rgba(255, 255, 255, 0.3);\n      filter: brightness(1.1);\n      border: 1px solid transparent;\n      background: \n        linear-gradient(135deg, var(--cs-primary-color, ${a.buttonColor}) 0%, var(--cs-primary-hover-color, ${a.buttonHoverColor}) 100%) padding-box,\n        linear-gradient(90deg, ${n}, ${n}) border-box;\n    }\n    \n    .cs-widget-button:active {\n      transform: translateY(-2px) scale(0.98);\n    }\n    \n    .cs-widget-icon-wrapper {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .cs-widget-button-icon {\n      width: 28px;\n      height: 28px;\n      min-width: 28px;\n      min-height: 28px;\n      max-width: 28px;\n      max-height: 28px;\n      object-fit: contain;\n      position: relative;\n      top: 2px;\n      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));\n      transition: transform 0.4s ease;\n      flex-shrink: 0;\n    }\n    \n    .cs-widget-button-text {\n      color: ${n};\n      font-size: 14px;\n      font-weight: 600;\n      white-space: nowrap;\n      opacity: 0;\n      max-width: 0;\n      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);\n      overflow: hidden;\n    }\n\n    .cs-widget-button:hover .cs-widget-button-text {\n      opacity: 1;\n      max-width: 100px;\n    }\n    \n    .cs-widget-modal {\n      position: fixed;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background: transparent;\n      display: none;\n      align-items: flex-end;\n      justify-content: flex-end;\n      padding: 24px;\n      ${"bottom-left"===a.position?"padding-left":"padding-right"}: 100px;\n      z-index: ${a.zIndex+1};\n      animation: cs-fade-in 0.2s ease-out;\n      pointer-events: none;\n    }\n    \n    .cs-widget-modal.cs-active {\n      display: flex;\n    }\n    \n    .cs-widget-modal-content {\n      position: relative;\n      width: 440px;\n      max-width: calc(100vw - 48px);\n      height: 600px;\n      max-height: calc(100vh - 120px);\n      border: 1px solid transparent;\n      border-radius: 12px;\n      box-shadow: 0 24px 80px rgba(0,0,0,0.3);\n      overflow: hidden;\n      animation: cs-slide-up 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n      pointer-events: auto;\n    }\n    \n    .cs-widget-close {\n      position: absolute;\n      top: 10px;\n      right: 8px;\n      width: 36px;\n      height: 36px;\n      border-radius: 50%;\n      background: transparent;\n      backdrop-filter: blur(8px);\n      border-color: transparent;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      z-index: 10;\n      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\n      outline: none;\n      color: #21222d80;\n    }\n    \n    .cs-widget-close:hover {\n      background: rgba(33 34 45 / calc(0.04));\n    }\n    \n    .cs-widget-close svg {\n      display: block;\n      width: 14px;\n      height: 14px;\n    }\n    \n    .cs-widget-iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n      border-radius: 8px;\n      background: #fff;\n    }\n    \n    @keyframes cs-fade-in {\n      from {\n        opacity: 0;\n      }\n      to {\n        opacity: 1;\n      }\n    }\n    \n    @keyframes cs-slide-up {\n      from {\n        opacity: 0;\n        transform: translateY(30px) scale(0.95);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0) scale(1);\n      }\n    }\n\n    @keyframes cs-widget-entrance {\n      from {\n        opacity: 0;\n        transform: translateY(40px) scale(0.5);\n      }\n      to {\n        opacity: 1;\n        transform: translateY(0) scale(1);\n      }\n    }\n    \n    @media (max-width: 768px) {\n      .cs-widget-modal {\n        padding: 0;\n      }\n\n      .cs-widget-modal-content {\n        width: 100%;\n        height: 100%;\n        max-width: 100%;\n        max-height: 100%;\n        border-radius: 0;\n      }\n      \n      .cs-widget-iframe {\n        border-radius: 0;\n      }\n    }\n    .cs-widget-icon-wrapper {\n      position: relative;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      width: 28px;\n      height: 28px;\n      min-width: 28px;\n      min-height: 28px;\n      max-width: 28px;\n      max-height: 28px;\n      flex-shrink: 0;\n    }\n\n    .cs-widget-star {\n      position: absolute;\n      right: -6px;\n      bottom: -3px;\n      pointer-events: none;\n      z-index: 10;\n      transition: all 0.3s ease;\n      width: 14px;\n      height: 14px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n  `)(n),document.head.appendChild(t)}!function(){__async(this,null,function*(){var n,t,e,i;if(window.self!==window.top)return;let o="",s="#006397";try{const r=new AbortController,c=setTimeout(()=>r.abort(),3e3),[d,l,p]=yield Promise.all([fetch(`${a.baseUrl}/api/system/web_plugin`,{signal:r.signal}),fetch(`${a.baseUrl}/api/bot`,{signal:r.signal}),fetch(`${a.baseUrl}/api/system/brand`,{signal:r.signal})]);if(clearTimeout(c),d.ok){const e=yield d.json(),i=window.location.origin,o=i===new URL(a.baseUrl).origin;if(!1===(null==(n=null==e?void 0:e.data)?void 0:n.plugin))return;if(o&&!1===(null==(t=null==e?void 0:e.data)?void 0:t.display))return}if(l.ok){const n=yield l.json();if(null==(e=null==n?void 0:n.data)?void 0:e.avatar){const t=n.data.avatar;if(t.startsWith("http")||t.startsWith("//"))o=t;else{const n=a.baseUrl.endsWith("/")?a.baseUrl.slice(0,-1):a.baseUrl,e=t.startsWith("/")?t.substring(1):t;o=`${n}/${e}`}}}if(p.ok){const n=yield p.json();(null==(i=null==n?void 0:n.data)?void 0:i.theme)&&(s=n.data.theme)}}catch(d){console.warn("Failed to check widget status:",d)}const c=()=>{r(s),function(n,t="#006397"){const e=document.createElement("button");e.className="cs-widget-button",e.innerHTML=`\n      <span class="cs-widget-button-text">智能客服</span>\n      <div class="cs-widget-icon-wrapper">\n        <svg t="1769679882202" class="cs-widget-button-icon" viewBox="0 0 1424 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="18085" width="200" height="200" fill="${t}"><path d="M480.879095 473.533012a47.193023 47.10398 0 1 0 94.386046 0 47.193023 47.10398 0 1 0-94.386046 0Z" p-id="18086"></path><path d="M847.82711 473.533012a47.193023 47.10398 0 1 0 94.386046 0 47.193023 47.10398 0 1 0-94.386046 0Z" p-id="18087"></path><path d="M712.213951 654.024063c77.15614 0 100.97526-54.405542 100.975261-121.455251 0-67.04971-45.234067-121.455252-100.975261-121.455252-55.741193 0-100.930739 54.405542-100.930739 121.455252 0 67.04971 23.774598 121.41073 100.930739 121.41073z" p-id="18088"></path><path d="M1159.879844 2.047999c96.389523 12.68869 173.412099 61.039278 229.598508 144.116807l34.94955 51.600673-59.881713-17.229905-1.691825-0.445218-11.39756-3.294607-0.75687-0.222608 0.712348 1.335651c23.106773 43.49772 38.733896 89.355092 46.836849 137.483071l9.750257 57.74467-42.874416-33.791985 0.133565 2.137043c3.383651 54.761715-7.435127 100.97526-31.877552 130.359595l-19.812165 23.774599-16.606601-26.089728-0.445217-0.712348-3.383651-5.253563-0.445217 0.445217a226.571032 226.571032 0 0 1-116.513341 89.399614 307.466997 307.466997 0 0 0-79.560313-17.897732c0.311652-58.145366-14.469559-127.332119-44.78885-207.471214-11.263995-22.706077-26.802075-52.402064-12.332517-74.395793 19.545035-29.651465 18.38747-29.829552 0-25.377381-5.342606 1.29113-12.555125 4.318607-19.990252 7.435127l-1.513738 0.623305-2.092521 0.890434-2.671303 1.068521-1.024 0.445217c-15.449037 6.233041-28.805553 10.373561-23.062251-3.428172 31.476856-75.731445 92.42709-117.759949 160.856974-117.759949s103.735607 55.028846 109.389865 63.042755c5.609737 8.01391 20.836165 37.220158 5.654259 17.274428-15.226428-19.94573-42.918938-52.535629-115.044124-52.53563s-128.534205 62.330408-110.502909 58.323453c4.363129-0.934956 7.880344-1.958956 11.353039-2.893912l0.845912-0.26713 0.890435-0.222608 0.979478-0.267131 1.335651-0.356174 0.712348-0.178086c9.349561-2.315129 20.168339-3.739824 45.412154-1.602782 38.867461 3.339129 27.915118 16.250428 3.472694 23.462946-24.442424 7.167997-49.508152 24.308859-22.038251 28.939118 27.469901 4.630259 53.871281 25.199293 67.539449 51.956847 13.579125 26.802075 3.606259 22.572512-21.058774 11.887299-16.651123-7.25704-31.254247-11.041387-36.953027-7.435127 30.185726 78.536314 46.747806 148.524457 49.463631 209.919909 58.635105-14.380515 102.622564-48.751283 130.537682-107.43091l18.431992-38.733896 21.503991 37.086592 2.226086 3.87339c8.948866-30.5419 8.904344-72.659447-1.780869-120.609339l-14.335994-63.666059 39.624331 32.278246-0.311652-0.890434a426.562597 426.562597 0 0 0-54.939803-106.763084l-36.685897-52.223977 59.79267 17.09634c-42.028503-38.956505-92.249003-61.974234-151.507412-69.765535-80.628835-10.596169-152.887586 29.829552-218.601645 124.838902l-18.699122-12.911298c-60.683104-40.64833-128.756814-61.0838-205.067041-61.0838-72.882055 0-138.284462 18.654601-196.652436 56.008324l-25.956163 17.986774c-65.714058-94.964828-138.017331-135.435072-218.601644-124.838902-59.258409 7.791301-109.523431 30.80903-151.240282 69.453883l59.525539-16.784688-36.685897 52.223977a426.562597 426.562597 0 0 0-54.984324 106.807606l-0.26713 0.845912 39.62433-32.278246-14.335993 63.666059c-10.729734 47.949892-10.774256 90.067439-2.092521 120.297687l0.133565 0.489739c0.890434-1.469217 1.780869-2.982955 2.226086-3.87339l21.682078-37.264679 18.38747 38.733896c27.915118 58.635105 71.858056 92.961351 130.404117 107.386388 2.671303-61.261886 19.188861-131.071943 49.241022-209.385648-5.119998-4.363129-20.212861-0.578782-37.53181 6.945388-24.665033 10.685213-34.637898 14.914776-21.014251-11.887299 13.579125-26.713032 40.069548-47.326588 67.494927-51.956847 27.469901-4.630259 2.404173-21.771121-22.038252-28.939118-24.442424-7.212519-35.394767-20.123817 3.472695-23.462946 24.08625-2.003477 35.038593-0.845913 44.121024 1.335651l0.712347 0.133565 0.667826 0.178087 1.335652 0.311652 1.647303 0.445218 2.58226 0.712347 0.890435 0.222609c2.893912 0.845913 5.96591 1.647304 9.572169 2.448694 18.031297 4.006955-38.333201-58.323453-110.458386-58.323453-72.125186 0-99.862217 32.589899-115.044124 52.53563-10.239996 13.490081-6.678258 4.541215-1.558261-5.16452l0.356174-0.578782 0.311652-0.623304 0.667826-1.157565c2.092521-3.87339 4.318607-7.568692 5.876867-9.794778 5.609737-7.969388 40.959982-62.998233 109.389866-62.998234s129.335596 42.028503 160.812451 117.759949c6.633736 15.849732-12.020864 8.058431-30.05216 0.534261l-1.068522-0.445218-1.55826-0.667825a135.346028 135.346028 0 0 0-17.675123-6.45565c-18.38747-4.452172-19.545035-4.274085 0 25.377381 13.000342 19.767644 1.780869 45.768328-8.8153 67.31684-59.124844 153.065673-62.597538 266.64058-13.089386 341.437069 52.535629 79.47127 168.559231 120.520295 350.074283 120.520295 17.764166 0 34.905028-0.356174 51.378064-1.157565-3.11652 14.781211-5.164519 29.963117-6.099475 45.456676-14.603124 0.623304-29.740509 0.890434-45.278589 0.890435-195.094176 0-325.008554-46.035458-387.784179-140.777678-23.418425-35.394767-36.953027-76.844488-40.781896-124.304642-63.844146-13.044864-115.622906-45.278589-151.819064-99.060826l-0.400696-0.534261-3.428172 5.387128-0.445217 0.712348-16.651123 26.089728-19.767644-23.774599c-24.486946-29.384335-35.305724-75.59788-31.922073-130.359595l0.178087-2.137043-42.874416 33.791985 9.750256-57.74467c8.102953-48.127979 23.730077-93.940829 46.836849-137.483071l0.712348-1.335651-0.756869 0.222608-11.442082 3.250086-1.647304 0.489739L0 197.765479l34.905028-51.645195C91.13596 63.131799 168.114014 14.781211 264.548059 2.092521c87.529701-11.486604 166.155058 25.37738 234.718507 108.232301l0.756869-0.445218c63.354407-38.199636 134.010377-57.343975 211.611734-57.343975 78.224662 0 149.414892 19.455992 213.169994 58.278932 68.563448-83.211094 147.366892-120.208643 235.074681-108.72204z" p-id="18089"></path><path d="M1089.268396 1010.197822a22.52799 22.52799 0 0 1-41.538765 0l-10.952343-25.199294a194.203742 194.203742 0 0 0-98.838218-100.129348l-33.747463-15.048341a23.596511 23.596511 0 0 1 0-42.874416l31.877551-14.157907a194.292785 194.292785 0 0 0 100.17387-103.55752l11.308517-27.202771a22.52799 22.52799 0 0 1 41.850416 0l11.308517 27.202771a194.292785 194.292785 0 0 0 100.173869 103.55752l31.966595 14.157907a23.596511 23.596511 0 0 1 0 42.874416l-33.836507 15.048341a194.203742 194.203742 0 0 0-98.793696 100.129348l-10.952343 25.199294z" p-id="18090"></path></svg>\n      </div>\n    `,e.setAttribute("aria-label","打开智能客服");const i=document.createElement("div");i.className="cs-widget-modal",i.innerHTML=`\n      <div class="cs-widget-modal-content">\n        <button class="cs-widget-close" aria-label="关闭"><svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg></button>\n        <iframe class="cs-widget-iframe" src="${a.baseUrl}${a.iframePath}?is_widget=1" title="客服助手"></iframe>\n      </div>\n    `,document.body.appendChild(e),document.body.appendChild(i);const o=i.querySelector(".cs-widget-close");e.addEventListener("click",()=>{i.classList.contains("cs-active")?i.classList.remove("cs-active"):i.classList.add("cs-active")}),o&&o.addEventListener("click",()=>{i.classList.remove("cs-active")}),document.addEventListener("keydown",n=>{"Escape"===n.key&&i.classList.contains("cs-active")&&i.classList.remove("cs-active")}),window.addEventListener("message",n=>{n.data&&"CLOSE_WIDGET"===n.data.type&&i.classList.remove("cs-active")})}(0,s)};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",c):c()})}(),window.CustomerServiceWidget={version:"1.0.0",open:()=>{const n=document.querySelector(".cs-widget-modal");n&&n.classList.add("cs-active")},close:()=>{const n=document.querySelector(".cs-widget-modal");n&&n.classList.remove("cs-active")}}}()}();