#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ” è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥ï¼ˆå‰ç«¯é¡¹ç›®ï¼‰..."
echo ""

# åˆ‡æ¢åˆ°å‰ç«¯é¡¹ç›®ç›®å½•
cd "ui/front" || exit 1

# è¿è¡Œ TypeScript ç±»å‹æ£€æŸ¥
pnpm run type-check

if [ $? -ne 0 ]; then
  echo ""
  echo "âŒ TypeScript ç±»å‹æ£€æŸ¥å¤±è´¥ï¼"
  echo "è¯·ä¿®å¤ä»¥ä¸Šé”™è¯¯åå†è¿›è¡Œ push"
  echo ""
  echo "æç¤º:"
  echo "  - æŸ¥çœ‹é”™è¯¯ä¿¡æ¯å¹¶ä¿®å¤ç±»å‹é—®é¢˜"
  echo "  - æˆ–è¿è¡Œ 'cd ui/front && pnpm run type-check' æŸ¥çœ‹è¯¦ç»†é”™è¯¯"
  echo "  - å¦‚éœ€è·³è¿‡æ£€æŸ¥: git push --no-verify (ä¸æ¨è)"
  echo ""
  exit 1
fi

echo ""
echo "âœ… TypeScript ç±»å‹æ£€æŸ¥é€šè¿‡ï¼"
echo ""
